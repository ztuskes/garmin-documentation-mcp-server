<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2025"><meta name="DC.rights.owner" content="(C) Copyright 2025"><meta name="DC.type" content="topic"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="authenticated-web-services"><link rel="stylesheet" type="text/css" href="../../branding/commonltr.css"><link rel="stylesheet" type="text/css" href="../../branding/style.css"><title>Authenticated Web Services</title></head><body id="authenticated-web-services"><header role="banner"><div>
<link href="../../resources/programmers-guide/google-code-prettify/prettify.css" type="text/css" rel="stylesheet">
<script src="../../resources/programmers-guide/jquery-1.11.3.min.js"></script>
<script>
    $(document).ready( function() {
        $( 'pre' ).addClass( 'prettyprint' );
    } );
</script>
<script src="../../resources/programmers-guide/google-code-prettify/run_prettify.js"></script>
</div></header><nav role="toc"><ul><li><a href="../../docs/Readme/Intro.html">Introduction</a></li><li><a href="../../docs/Connect_IQ_Basics/Welcome_to_the_Jungle.html">Welcome to Connect IQ</a></li><li><a href="../../docs/Monkey_C/Basic_Syntax.html">Hello Monkey C!</a></li><li><a href="../../docs/Core_Topics/Overview.html">Core Topics</a><ul><li><a href="../../docs/Core_Topics/Manifest_and_Permissions.html">Manifest File and Permissions</a></li><li><a href="../../docs/Core_Topics/Application_and_System_Modules.html">Application and System Modules</a></li><li><a href="../../docs/Core_Topics/Persisting_Data.html">Persisting Data</a></li><li><a href="../../docs/Core_Topics/Backgrounding.html">Background Services</a></li><li><a href="../../docs/Core_Topics/Glances.html">Glances</a></li><li><a href="../../docs/Core_Topics/Properties_and_App_Settings.html">Properties and Settings</a></li><li><a href="../../docs/Core_Topics/Intents.html">Intents</a></li><li><a href="../../docs/Core_Topics/Notifications.html">Notifications</a></li><li><a href="../../docs/Core_Topics/Build_Configuration.html">Build Configuration</a></li><li><a href="../../docs/Core_Topics/Security.html">Security</a></li><li><a href="../../docs/Core_Topics/User_Interface.html">Views, Drawables and Layers</a></li><li><a href="../../docs/Core_Topics/Layouts.html">Layouts</a></li><li><a href="../../docs/Core_Topics/Graphics.html">Graphics</a></li><li><a href="../../docs/Core_Topics/Input_Handling.html">Input Handling</a></li><li><a href="../../docs/Core_Topics/Native_Controls.html">Native UI Controls</a></li><li><a href="../../docs/Core_Topics/Resources.html">Resources</a></li><li><a href="../../docs/Core_Topics/Monkey_Style.html">Monkey Style</a></li><li><a href="../../docs/Core_Topics/Getting_the_Users_Attention.html">Getting the User's Attention</a></li><li><a href="../../docs/Core_Topics/Editing_Watch_Faces_On_Device.html">Watch Face Configurations</a></li><li><a href="../../docs/Core_Topics/HTTPS.html">JSON REST Requests</a></li><li class="active"><a href="../../docs/Core_Topics/Authenticated_Web_Services.html">Authenticated Web Services</a></li><li><a href="../../docs/Core_Topics/Communicating_with_Mobile_Apps.html">Communicating with Mobile Apps</a></li><li><a href="../../docs/Core_Topics/Downloading_Content.html">Downloading Content</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_Android.html">Mobile SDK for Android</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_iOS.html">Mobile SDK for iOS</a></li><li><a href="../../docs/Core_Topics/Ant_and_Ant_Plus.html">ANT and ANT+</a></li><li><a href="../../docs/Core_Topics/Bluetooth_Low_Energy.html">Getting Started with Connect IQ BLE Development</a></li><li><a href="../../docs/Core_Topics/Pairing_Wireless_Devices.html">Sensor Pairing</a></li><li><a href="../../docs/Core_Topics/Sensors.html">Sensors</a></li><li><a href="../../docs/Core_Topics/Positioning.html">Positioning</a></li><li><a href="../../docs/Core_Topics/Activity_Recording.html">Activity Recording</a></li><li><a href="../../docs/Core_Topics/Quantifying_the_User.html">Quantifying User Information</a></li><li><a href="../../docs/Core_Topics/Complications.html">Complications</a></li><li><a href="../../docs/Core_Topics/Shareable_Libraries.html">Shareable Libraries</a></li><li><a href="../../docs/Core_Topics/Debugging.html">Testing and Debugging</a></li><li><a href="../../docs/Core_Topics/Unit_Testing.html">Unit Testing</a></li><li><a href="../../docs/Core_Topics/Exception_Reporting_Tool.html">Error Reporting Application (ERA)</a></li><li><a href="../../docs/Core_Topics/Profiling.html">Profiling Applications</a></li><li><a href="../../docs/Core_Topics/Publishing_to_the_Store.html">Publishing to the Connect IQ Store</a></li><li><a href="../../docs/Core_Topics/Beta_Apps.html">Beta Apps</a></li><li><a href="../../docs/Core_Topics/Trial_Apps.html">App Trials</a></li><li><a href="../../docs/Core_Topics/Requesting_Reviews.html">Requesting Reviews</a></li></ul></li><li><a href="../../docs/User_Experience_Guidelines/Overview.html">User Experience Guidelines</a></li><li><a href="../../docs/Personality_Library/Personality_UI.html">Personality UI</a></li><li><a href="../../docs/Connect_IQ_FAQ/Overview.html">Connect IQ FAQ</a></li><li><a href="../../docs/Reference_Guides/Overview.html">Reference Guides</a></li><li><a href="../../docs/App_Review_Guidelines/Overview.html">Garmin Connect IQ App Review Guidelines</a></li><li><a href="../../docs/Monetization/Overview.html">Connect IQ Monetization System</a></li><li><a href="../../docs/Device_Reference/Overview.html">Device Reference</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Authenticated Web Services</h1><div class="body"><p class="p">There are countless web services available to developers that use either OAuth to provide access control. Connect IQ has OAuth APIs in the <strong class="ph b">Communications</strong> module that allow widgets and device apps to make authenticated calls.</p></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="oauth-101"><h2 class="title topictitle2" id="ariaid-title2">OAuth 101</h2><div class="body"><p class="p">OAuth provides a standard way for developers to authenticate to gain access to web APIs. Before an app can access the web API, the developer must register the app with the service. During registration you must provide a redirect URL that will be used to retrieve the credentials. Once registered the app will provide a <em class="ph i">client id</em> and <em class="ph i">secret</em>, which are necessary for the login process.</p><img class="image" src="../../resources/programmers-guide/oauth_flow.png"><br><p class="p">To access the web service, the app must authenticate the user. To do this, the app redirects the user's web browser to the web service authentication page, providing the secret, the client id, and the redirect URL. After the service has authenticated the user, it redirects their browser back to the client providing an access token. The access token can then be used in subsequent calls to the web service.</p></div></article><article class="topic nested1" aria-labelledby="ariaid-title3" id="oauth-and-wearables"><h2 class="title topictitle2" id="ariaid-title3">OAuth and Wearables</h2><div class="body"><p class="p">The OAuth standard is based on the world of web browsers and mobile applications, but in general people don't want to enter their username and password on their watch. Connect IQ has added some new APIs to allow you to write OAuth enabled apps:</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="oauth-and-wearables__entry__1">Operation</th><th class="entry" id="oauth-and-wearables__entry__2">Function</th><th class="entry" id="oauth-and-wearables__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__1">Request credentials from an OAuth 2.0 web endpoint</td><td class="entry" headers="oauth-and-wearables__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeOAuthRequest-instance_function" target="_blank">Communications.makeOAuthRequest()</a></td><td class="entry" headers="oauth-and-wearables__entry__3">1.3.0</td></tr><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__1">Request credentials from an OAuth 2.0 web endpoint</td><td class="entry" headers="oauth-and-wearables__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Authentication.html#makeOAuthRequest-instance_function" target="_blank">Authentication.makeOAuthRequest()</a></td><td class="entry" headers="oauth-and-wearables__entry__3">3.3.0</td></tr><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__1">Register a callback to receive OAuth credentials upon user completion</td><td class="entry" headers="oauth-and-wearables__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#registerForOAuthMessages-instance_function" target="_blank">Communications.registerForOAuthMessages()</a></td><td class="entry" headers="oauth-and-wearables__entry__3">1.3.0</td></tr><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__1">Register a callback to receive OAuth credentials upon user completion</td><td class="entry" headers="oauth-and-wearables__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Authentication.html#registerForOAuthMessages-instance_function" target="_blank">Authentication.registerForOAuthMessages()</a></td><td class="entry" headers="oauth-and-wearables__entry__3">3.3.0</td></tr></tbody></table><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeOAuthRequest-instance_function" target="_blank">Communications.makeOAuthRequest()</a> and <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Authentication.html#makeOAuthRequest-instance_function" target="_blank">Authentication.makeOAuthRequest()</a> calls are intended for implementing credential entry step of the OAuth 1.0 &amp; 2.0 standard.  Be sure to use the following redirects when using the <code class="ph codeph">makeOAuthRequest</code> call:</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="oauth-and-wearables__entry__16">API</th><th class="entry" id="oauth-and-wearables__entry__17">Redirect</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__16"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeOAuthRequest-instance_function" target="_blank">Communications.makeOAuthRequest()</a></td><td class="entry" headers="oauth-and-wearables__entry__17"><code class="ph codeph">http://localhost</code></td></tr><tr class="row"><td class="entry" headers="oauth-and-wearables__entry__16"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Authentication.html#makeOAuthRequest-instance_function" target="_blank">Authentication.makeOAuthRequest()</a></td><td class="entry" headers="oauth-and-wearables__entry__17"><code class="ph codeph">connectiq://oauth</code></td></tr></tbody></table><p class="p">When called, the user will receive a phone notification that your app wants to log into a web service. Clicking on this notification will take the user to a web view within Garmin Connect mobile app (<code class="ph codeph">Communications.makeOAuthRequest()</code>) or the Connect IQ Store mobile app (<code class="ph codeph">Authentication.makeOAuthRequest()</code>), where they can enter their log in information.</p><img class="image" src="../../resources/programmers-guide/oauth_notification.png"><br><p class="p">During this time, the Connect IQ app should display a page directing the user to open the respective application. Once the user has completed credential entry, Connect will send back the tokens specified in the <code class="ph codeph">resultKeys</code> option, and direct them back to the wearable.</p><img class="image" src="../../resources/programmers-guide/oauth_complete.png"><br><p class="p">Your app should call <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#registerForOAuthMessages-instance_function" target="_blank">Communications.registerForOAuthMessages()</a> or <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Authentication.html#registerForOAuthMessages-instance_function" target="_blank">Authentication.registerForOAuthMessages()</a> to receive the result of the login process. Logging in can take a long time, and a widget may time out before the user completes the login step. If your app closes before the login process completes, the result will be cached on the device until the next time your app calls <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#registerForOAuthMessages-instance_function" target="_blank">Communications.registerForOAuthMessages()</a>, at which point the result will be passed to your callback immediately. Once you have the access token, you can use it as an argument to <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeWebRequest-instance_function" target="_blank">Communications.makeWebRequest()</a>.</p></div></article></article></main><footer role="contentinfo"><div>
<p class="disclaimer">
Connect IQ System None API 8.2.3 Documentation. Copyright 2025 Garmin International. All Rights Reserved.
</p>
</div></footer></body></html>