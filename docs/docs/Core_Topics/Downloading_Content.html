<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2025"><meta name="DC.rights.owner" content="(C) Copyright 2025"><meta name="DC.type" content="topic"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="downloading-content"><link rel="stylesheet" type="text/css" href="../../branding/commonltr.css"><link rel="stylesheet" type="text/css" href="../../branding/style.css"><title>Downloading Content</title></head><body id="downloading-content"><header role="banner"><div>
<link href="../../resources/programmers-guide/google-code-prettify/prettify.css" type="text/css" rel="stylesheet">
<script src="../../resources/programmers-guide/jquery-1.11.3.min.js"></script>
<script>
    $(document).ready( function() {
        $( 'pre' ).addClass( 'prettyprint' );
    } );
</script>
<script src="../../resources/programmers-guide/google-code-prettify/run_prettify.js"></script>
</div></header><nav role="toc"><ul><li><a href="../../docs/Readme/Intro.html">Introduction</a></li><li><a href="../../docs/Connect_IQ_Basics/Welcome_to_the_Jungle.html">Welcome to Connect IQ</a></li><li><a href="../../docs/Monkey_C/Basic_Syntax.html">Hello Monkey C!</a></li><li><a href="../../docs/Core_Topics/Overview.html">Core Topics</a><ul><li><a href="../../docs/Core_Topics/Manifest_and_Permissions.html">Manifest File and Permissions</a></li><li><a href="../../docs/Core_Topics/Application_and_System_Modules.html">Application and System Modules</a></li><li><a href="../../docs/Core_Topics/Persisting_Data.html">Persisting Data</a></li><li><a href="../../docs/Core_Topics/Backgrounding.html">Background Services</a></li><li><a href="../../docs/Core_Topics/Glances.html">Glances</a></li><li><a href="../../docs/Core_Topics/Properties_and_App_Settings.html">Properties and Settings</a></li><li><a href="../../docs/Core_Topics/Intents.html">Intents</a></li><li><a href="../../docs/Core_Topics/Notifications.html">Notifications</a></li><li><a href="../../docs/Core_Topics/Build_Configuration.html">Build Configuration</a></li><li><a href="../../docs/Core_Topics/Security.html">Security</a></li><li><a href="../../docs/Core_Topics/User_Interface.html">Views, Drawables and Layers</a></li><li><a href="../../docs/Core_Topics/Layouts.html">Layouts</a></li><li><a href="../../docs/Core_Topics/Graphics.html">Graphics</a></li><li><a href="../../docs/Core_Topics/Input_Handling.html">Input Handling</a></li><li><a href="../../docs/Core_Topics/Native_Controls.html">Native UI Controls</a></li><li><a href="../../docs/Core_Topics/Resources.html">Resources</a></li><li><a href="../../docs/Core_Topics/Monkey_Style.html">Monkey Style</a></li><li><a href="../../docs/Core_Topics/Getting_the_Users_Attention.html">Getting the User's Attention</a></li><li><a href="../../docs/Core_Topics/Editing_Watch_Faces_On_Device.html">Watch Face Configurations</a></li><li><a href="../../docs/Core_Topics/HTTPS.html">JSON REST Requests</a></li><li><a href="../../docs/Core_Topics/Authenticated_Web_Services.html">Authenticated Web Services</a></li><li><a href="../../docs/Core_Topics/Communicating_with_Mobile_Apps.html">Communicating with Mobile Apps</a></li><li class="active"><a href="../../docs/Core_Topics/Downloading_Content.html">Downloading Content</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_Android.html">Mobile SDK for Android</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_iOS.html">Mobile SDK for iOS</a></li><li><a href="../../docs/Core_Topics/Ant_and_Ant_Plus.html">ANT and ANT+</a></li><li><a href="../../docs/Core_Topics/Bluetooth_Low_Energy.html">Getting Started with Connect IQ BLE Development</a></li><li><a href="../../docs/Core_Topics/Pairing_Wireless_Devices.html">Sensor Pairing</a></li><li><a href="../../docs/Core_Topics/Sensors.html">Sensors</a></li><li><a href="../../docs/Core_Topics/Positioning.html">Positioning</a></li><li><a href="../../docs/Core_Topics/Activity_Recording.html">Activity Recording</a></li><li><a href="../../docs/Core_Topics/Quantifying_the_User.html">Quantifying User Information</a></li><li><a href="../../docs/Core_Topics/Complications.html">Complications</a></li><li><a href="../../docs/Core_Topics/Shareable_Libraries.html">Shareable Libraries</a></li><li><a href="../../docs/Core_Topics/Debugging.html">Testing and Debugging</a></li><li><a href="../../docs/Core_Topics/Unit_Testing.html">Unit Testing</a></li><li><a href="../../docs/Core_Topics/Exception_Reporting_Tool.html">Error Reporting Application (ERA)</a></li><li><a href="../../docs/Core_Topics/Profiling.html">Profiling Applications</a></li><li><a href="../../docs/Core_Topics/Publishing_to_the_Store.html">Publishing to the Connect IQ Store</a></li><li><a href="../../docs/Core_Topics/Beta_Apps.html">Beta Apps</a></li><li><a href="../../docs/Core_Topics/Trial_Apps.html">App Trials</a></li><li><a href="../../docs/Core_Topics/Requesting_Reviews.html">Requesting Reviews</a></li></ul></li><li><a href="../../docs/User_Experience_Guidelines/Overview.html">User Experience Guidelines</a></li><li><a href="../../docs/Personality_Library/Personality_UI.html">Personality UI</a></li><li><a href="../../docs/Connect_IQ_FAQ/Overview.html">Connect IQ FAQ</a></li><li><a href="../../docs/Reference_Guides/Overview.html">Reference Guides</a></li><li><a href="../../docs/App_Review_Guidelines/Overview.html">Garmin Connect IQ App Review Guidelines</a></li><li><a href="../../docs/Monetization/Overview.html">Connect IQ Monetization System</a></li><li><a href="../../docs/Device_Reference/Overview.html">Device Reference</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Downloading Content</h1><div class="body"><p class="p"><em class="ph i">Since API level 2.2.0</em></p><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent.html" target="_blank">Toybox.PersistedContent</a> module allows access to the saved Tracks, Courses, Waypoints, Workouts, and Routes that the user has on their device. These content types contain a name and a unique identifier, which can be used by <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System.html#exitTo-instance_function" target="_blank">System.exitTo()</a> as an <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System/Intent.html" target="_blank">System.Intent</a> to launch into a native app and present the content to the user in some way. See the <a class="xref" href="Intents.html#intents">Intents</a> section for more details.</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="downloading-content__entry__1">Type</th><th class="entry" id="downloading-content__entry__2">Object</th><th class="entry" id="downloading-content__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="downloading-content__entry__1">Track, Route, Course</td><td class="entry" headers="downloading-content__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Track.html" target="_blank">PersistedContent.Track</a>, <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Route.html" target="_blank">PersistedContent.Route</a>, <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Course.html" target="_blank">PersistedContent.Course</a> <a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a></td><td class="entry" headers="downloading-content__entry__3">2.2.0</td></tr><tr class="row"><td class="entry" headers="downloading-content__entry__1">Waypoint</td><td class="entry" headers="downloading-content__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Waypoint.html" target="_blank">PersistedContent.Waypoint</a></td><td class="entry" headers="downloading-content__entry__3">2.2.0</td></tr><tr class="row"><td class="entry" headers="downloading-content__entry__1">Workout</td><td class="entry" headers="downloading-content__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Workout.html" target="_blank">PersistedContent.Workout</a></td><td class="entry" headers="downloading-content__entry__3">2.2.0</td></tr></tbody></table><p class="p">Calling <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System.html#exitTo-instance_function" target="_blank">System.exitTo()</a> with a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent.html" target="_blank">Toybox.PersistedContent</a> object prompts the user to choose which native app to launch. For example, if an app calls <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System.html#exitTo-instance_function" target="_blank">System.exitTo()</a> with a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Waypoint.html" target="_blank">PersistedContent.Waypoint</a> object, the dialog will ask whether to launch the waypoint with one of either the Run or Bike native apps.</p><p class="p">When retrieving the list of stored content on the device, a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Iterator.html" target="_blank">PersistedContent.Iterator</a> will be returned. The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent/Iterator.html#next-instance_function" target="_blank">Iterator.next()</a> function must be called to get the first entry, and <code class="ph codeph">null</code> is returned when there are no more entries:</p><pre class="pre codeblock typescript"><code>import Toybox.PersistedContent;
import Toybox.System;

function example() as Void {}
    // Get the first waypoint from the device
    var waypoints = PersistedContent.getWaypoints();
    var waypoint = waypoints.next();

    if(waypoint != null) {
        // Launch the waypoint (User will be asked
        // what activity to launch in)
        System.exitTo(waypoint.toIntent());
    }
}</code></pre><p class="p">There are three possible cases once the content is sent to the device:</p><ol class="ol"><li class="li"><p class="p"><strong class="ph b">Data import is successful</strong> - A <code class="ph codeph">PersistedContent.Iterator</code> will be returned, which contains the elements that were downloaded.</p></li><li class="li"><p class="p"><strong class="ph b">The system does not have enough space</strong> - The <code class="ph codeph">STORAGE_FULL</code> response will be returned to the <code class="ph codeph">responseCallback</code>.</p></li><li class="li"><p class="p"><strong class="ph b">The system does not support the file type</strong> (i.e. a running workout is sent to a cycling device) - The <code class="ph codeph">responseCallback</code> will return an empty iterator or <code class="ph codeph">null</code> value.</p></li></ol><p class="p">Access to <code class="ph codeph">PersistedContent</code> requires the 'Persisted Content' permission.</p></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="persisted-content-in-the-simulator"><h2 class="title topictitle2" id="ariaid-title2">Persisted Content in the Simulator</h2><div class="body"><p class="p">Because native apps are not simulated in Connect IQ simulator, an <em class="ph i">Intent Launched</em> feature has been added that is useful for testing with <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent.html" target="_blank">Toybox.PersistedContent</a>. This feature displays three critical pieces of information about the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/PersistedContent.html" target="_blank">Toybox.PersistedContent</a> object supplied via <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/System/Intent.html" target="_blank">System.Intent</a>  in the simulator window:</p><ol class="ol"><li class="li"><p class="p">The object type</p></li><li class="li"><p class="p">The unique serializable ID of the object</p></li><li class="li"><p class="p">The name of the object</p></li></ol><p class="p">For example, the sample code above may display a picture of an activity with "Intent Launched", a type, an ID number and its name displayed.</p><figure class="fig fignone">
<img class="image" src="../../resources/programmers-guide/intent-launched.png"><br>
</figure><p class="p"><em class="ph i">Since API level 3.1.0</em></p><p class="p">In some cases, the <a class="xref" href="https://en.wikipedia.org/wiki/Bluetooth_low_energy" target="_blank">Bluetooth low energy</a> (BLE) link to Garmin Connect Mobile is too slow for downloading some content. For these situations, the WiFi Bulk Downloads feature can prove useful.</p><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html" target="_blank">Toybox.Communications</a> module provides methods to initiate a transition to sync mode, and communicate sync status information to the system for display. The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html" target="_blank">Application.AppBase</a> class provides an entry point for the system to get a delegate used to communicate with the app while in sync mode.</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="persisted-content-in-the-simulator__entry__1">Function or Class</th><th class="entry" id="persisted-content-in-the-simulator__entry__2">Purpose</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="persisted-content-in-the-simulator__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#startSync-instance_function" target="_blank">Communications.startSync()</a></td><td class="entry" headers="persisted-content-in-the-simulator__entry__2">Exit the Application and launch it in sync mode.</td></tr><tr class="row"><td class="entry" headers="persisted-content-in-the-simulator__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html#getSyncDelegate-instance_function" target="_blank">AppBase.getSyncDelegate()</a></td><td class="entry" headers="persisted-content-in-the-simulator__entry__2">Get a SyncDelegate object that communicates sync status to the system</td></tr><tr class="row"><td class="entry" headers="persisted-content-in-the-simulator__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html" target="_blank">Communications.SyncDelegate</a></td><td class="entry" headers="persisted-content-in-the-simulator__entry__2">A delegate object that the user implements to respond to sync request</td></tr><tr class="row"><td class="entry" headers="persisted-content-in-the-simulator__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#notifySyncProgress-instance_function" target="_blank">Communications.notifySyncProgress()</a></td><td class="entry" headers="persisted-content-in-the-simulator__entry__2">Send a system notification to the system to indicate overall sync progress.</td></tr><tr class="row"><td class="entry" headers="persisted-content-in-the-simulator__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#notifySyncComplete-instance_function" target="_blank">Communications.notifySyncComplete()</a></td><td class="entry" headers="persisted-content-in-the-simulator__entry__2">Send a system notification to the system to indicate that the sync completed.</td></tr></tbody></table><p class="p">To use the bulk download functionality, implement <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html#getSyncDelegate-instance_function" target="_blank">AppBase.getSyncDelegate()</a> to return an instance of a class derived from <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html" target="_blank">Communications.SyncDelegate</a>. When the application calls <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#startSync-instance_function" target="_blank">Communications.startSync()</a>, the system will terminate the running application, re-launch it in sync mode, and make a call to <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Application/AppBase.html#getSyncDelegate-instance_function" target="_blank">AppBase.getSyncDelegate()</a> to retrieve the application's <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html" target="_blank">Communications.SyncDelegate</a>.</p><p class="p">Once the application has retrieved the application's <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html" target="_blank">Communications.SyncDelegate</a>, it will verify that a sync is necessary by calling <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html#isSyncNeeded-instance_function" target="_blank">SyncDelegate.isSyncNeeded()</a>. If this method returns <code class="ph codeph">true</code>, the system will proceed to call <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html#onStartSync-instance_function" target="_blank">SyncDelegate.onStartSync()</a>. At this point, the delegate may initiate a request to download content by making a call to <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeWebRequest-instance_function" target="_blank">Communications.makeWebRequest()</a> or <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#makeImageRequest-instance_function" target="_blank">Communications.makeImageRequest()</a>. When the response callback for the request is invoked, the delegate should notify the system of the progress made by calling <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#notifySyncProgress-instance_function" target="_blank">Communications.notifySyncProgress()</a>. If additional content remains to be downloaded, another content request may be issued. This cycle should repeat until all content has been downloaded or an error has occurred, at which time a call to <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#notifySyncComplete-instance_function" target="_blank">Communications.notifySyncComplete()</a> should be made to notify the system that the app can leave sync mode.</p><p class="p">If the user decides to cancel the bulk download operation, the system will call <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications/SyncDelegate.html#onStopSync-instance_function" target="_blank">SyncDelegate.onStopSync()</a> to notify the application. The app must acknowledge the sync cancellation by calling <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Communications.html#notifySyncComplete-instance_function" target="_blank">Communications.notifySyncComplete()</a>. The system will display the given error message, if appropriate, and will proceed to exit sync mode.</p><p class="p">For more see the <code class="ph codeph">BulkDownload</code> sample app distributed with the SDK.</p></div></article><div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  I can't tell you what the differences are. Sometimes our job is to just abstract the thing and not ask questions.</div></article></main><footer role="contentinfo"><div>
<p class="disclaimer">
Connect IQ System None API 8.2.3 Documentation. Copyright 2025 Garmin International. All Rights Reserved.
</p>
</div></footer></body></html>