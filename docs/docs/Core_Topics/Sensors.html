<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2025"><meta name="DC.rights.owner" content="(C) Copyright 2025"><meta name="DC.type" content="topic"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="sensors"><link rel="stylesheet" type="text/css" href="../../branding/commonltr.css"><link rel="stylesheet" type="text/css" href="../../branding/style.css"><title>Sensors</title></head><body id="sensors"><header role="banner"><div>
<link href="../../resources/programmers-guide/google-code-prettify/prettify.css" type="text/css" rel="stylesheet">
<script src="../../resources/programmers-guide/jquery-1.11.3.min.js"></script>
<script>
    $(document).ready( function() {
        $( 'pre' ).addClass( 'prettyprint' );
    } );
</script>
<script src="../../resources/programmers-guide/google-code-prettify/run_prettify.js"></script>
</div></header><nav role="toc"><ul><li><a href="../../docs/Readme/Intro.html">Introduction</a></li><li><a href="../../docs/Connect_IQ_Basics/Welcome_to_the_Jungle.html">Welcome to Connect IQ</a></li><li><a href="../../docs/Monkey_C/Basic_Syntax.html">Hello Monkey C!</a></li><li><a href="../../docs/Core_Topics/Overview.html">Core Topics</a><ul><li><a href="../../docs/Core_Topics/Manifest_and_Permissions.html">Manifest File and Permissions</a></li><li><a href="../../docs/Core_Topics/Application_and_System_Modules.html">Application and System Modules</a></li><li><a href="../../docs/Core_Topics/Persisting_Data.html">Persisting Data</a></li><li><a href="../../docs/Core_Topics/Backgrounding.html">Background Services</a></li><li><a href="../../docs/Core_Topics/Glances.html">Glances</a></li><li><a href="../../docs/Core_Topics/Properties_and_App_Settings.html">Properties and Settings</a></li><li><a href="../../docs/Core_Topics/Intents.html">Intents</a></li><li><a href="../../docs/Core_Topics/Notifications.html">Notifications</a></li><li><a href="../../docs/Core_Topics/Build_Configuration.html">Build Configuration</a></li><li><a href="../../docs/Core_Topics/Security.html">Security</a></li><li><a href="../../docs/Core_Topics/User_Interface.html">Views, Drawables and Layers</a></li><li><a href="../../docs/Core_Topics/Layouts.html">Layouts</a></li><li><a href="../../docs/Core_Topics/Graphics.html">Graphics</a></li><li><a href="../../docs/Core_Topics/Input_Handling.html">Input Handling</a></li><li><a href="../../docs/Core_Topics/Native_Controls.html">Native UI Controls</a></li><li><a href="../../docs/Core_Topics/Resources.html">Resources</a></li><li><a href="../../docs/Core_Topics/Monkey_Style.html">Monkey Style</a></li><li><a href="../../docs/Core_Topics/Getting_the_Users_Attention.html">Getting the User's Attention</a></li><li><a href="../../docs/Core_Topics/Editing_Watch_Faces_On_Device.html">Watch Face Configurations</a></li><li><a href="../../docs/Core_Topics/HTTPS.html">JSON REST Requests</a></li><li><a href="../../docs/Core_Topics/Authenticated_Web_Services.html">Authenticated Web Services</a></li><li><a href="../../docs/Core_Topics/Communicating_with_Mobile_Apps.html">Communicating with Mobile Apps</a></li><li><a href="../../docs/Core_Topics/Downloading_Content.html">Downloading Content</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_Android.html">Mobile SDK for Android</a></li><li><a href="../../docs/Core_Topics/Mobile_SDK_for_iOS.html">Mobile SDK for iOS</a></li><li><a href="../../docs/Core_Topics/Ant_and_Ant_Plus.html">ANT and ANT+</a></li><li><a href="../../docs/Core_Topics/Bluetooth_Low_Energy.html">Getting Started with Connect IQ BLE Development</a></li><li><a href="../../docs/Core_Topics/Pairing_Wireless_Devices.html">Sensor Pairing</a></li><li class="active"><a href="../../docs/Core_Topics/Sensors.html">Sensors</a></li><li><a href="../../docs/Core_Topics/Positioning.html">Positioning</a></li><li><a href="../../docs/Core_Topics/Activity_Recording.html">Activity Recording</a></li><li><a href="../../docs/Core_Topics/Quantifying_the_User.html">Quantifying User Information</a></li><li><a href="../../docs/Core_Topics/Complications.html">Complications</a></li><li><a href="../../docs/Core_Topics/Shareable_Libraries.html">Shareable Libraries</a></li><li><a href="../../docs/Core_Topics/Debugging.html">Testing and Debugging</a></li><li><a href="../../docs/Core_Topics/Unit_Testing.html">Unit Testing</a></li><li><a href="../../docs/Core_Topics/Exception_Reporting_Tool.html">Error Reporting Application (ERA)</a></li><li><a href="../../docs/Core_Topics/Profiling.html">Profiling Applications</a></li><li><a href="../../docs/Core_Topics/Publishing_to_the_Store.html">Publishing to the Connect IQ Store</a></li><li><a href="../../docs/Core_Topics/Beta_Apps.html">Beta Apps</a></li><li><a href="../../docs/Core_Topics/Trial_Apps.html">App Trials</a></li><li><a href="../../docs/Core_Topics/Requesting_Reviews.html">Requesting Reviews</a></li></ul></li><li><a href="../../docs/User_Experience_Guidelines/Overview.html">User Experience Guidelines</a></li><li><a href="../../docs/Personality_Library/Personality_UI.html">Personality UI</a></li><li><a href="../../docs/Connect_IQ_FAQ/Overview.html">Connect IQ FAQ</a></li><li><a href="../../docs/Reference_Guides/Overview.html">Reference Guides</a></li><li><a href="../../docs/App_Review_Guidelines/Overview.html">Garmin Connect IQ App Review Guidelines</a></li><li><a href="../../docs/Monetization/Overview.html">Connect IQ Monetization System</a></li><li><a href="../../docs/Device_Reference/Overview.html">Device Reference</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1"><h1 class="title topictitle1" id="ariaid-title1">Sensors</h1><div class="body"><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html" target="_blank">Toybox.Sensor</a> module allows the app to enable and receive information from Garmin ANT+ sensors. To receive information, a listener method must be assigned and the sensors enabled:</p><pre class="pre codeblock typescript"><code>function initialize() {
    Sensor.setEnabledSensors( [Sensor.SENSOR_HEARTRATE] );
    Sensor.enableSensorEvents( method( :onSensor ) );
}

function onSensor(sensorInfo as Sensor.Info) as Void {
    System.println( "Heart Rate: " + sensorInfo.heartRate );
}</code></pre><p class="p">Sensor information is packaged in the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html" target="_blank">Sensor.Info</a> object:</p><table class="table"><caption></caption><colgroup><col><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="sensors__entry__1">Sensor Type</th><th class="entry" id="sensors__entry__2">API</th><th class="entry" id="sensors__entry__3">Units</th><th class="entry" id="sensors__entry__4">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="sensors__entry__1">Accelerometer</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#accel-var" target="_blank">Info.accel</a></td><td class="entry" headers="sensors__entry__3">Array of x,y,z values in millig-units.</td><td class="entry" headers="sensors__entry__4">1.2.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Altitude</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#altitude-var" target="_blank">Info.altitude</a></td><td class="entry" headers="sensors__entry__3">Altitude above mean sea level in meters (m).</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Cadence</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#cadence-var" target="_blank">Info.cadence</a></td><td class="entry" headers="sensors__entry__3">Revolutions per minute (rpm).</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Heading</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#heading-var" target="_blank">Info.heading</a></td><td class="entry" headers="sensors__entry__3">True north in radians.</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Heart Rate</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#heartRate-var" target="_blank">Info.heartRate</a></td><td class="entry" headers="sensors__entry__3">Beats per minute (bpm).</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Magnetometer</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#mag-var" target="_blank">Info.mag</a></td><td class="entry" headers="sensors__entry__3">Array of x,y,z values in milliGauss.</td><td class="entry" headers="sensors__entry__4">1.2.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Oxygen Saturation</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#oxygenSaturation-var" target="_blank">Info.oxygenSaturation</a></td><td class="entry" headers="sensors__entry__3">The current oxygen saturation in percent (%).</td><td class="entry" headers="sensors__entry__4">3.2.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Power</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#power-var" target="_blank">Info.power</a></td><td class="entry" headers="sensors__entry__3">Watts.</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Pressure</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#pressure-var" target="_blank">Info.pressure</a></td><td class="entry" headers="sensors__entry__3">The barometric pressure in Pascals.<a name="fnsrc_1" href="#fntarg_1"><sup>1</sup></a></td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr><tr class="row"><td class="entry" headers="sensors__entry__1">Temperature</td><td class="entry" headers="sensors__entry__2"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/Info.html#temperature-var" target="_blank">Info.temperature</a></td><td class="entry" headers="sensors__entry__3">Degrees Celsius (C).</td><td class="entry" headers="sensors__entry__4">1.0.0</td></tr></tbody></table><p class="p">The simulator can simulate sensor data via the <em class="ph i">Simulation</em> menu by selecting <em class="ph i">Fit Data</em> &gt; <em class="ph i">Simulate Data</em>. This generates valid but random values that can be read in via the sensor interface. For more accurate simulation, the simulator can play back a FIT file and feed the input into the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html" target="_blank">Toybox.Sensor</a> module. To do this, select  <em class="ph i">Simulation</em> &gt; <em class="ph i">Fit Data</em> &gt; <em class="ph i">Playback File</em> and choose a FIT file from the dialog.</p><p class="p">For more, see the <code class="ph codeph">AccelMag</code> and <code class="ph codeph">Sensor</code> sample apps distributed with the SDK.</p></div><article class="topic nested1" aria-labelledby="ariaid-title2" id="high-frequency-data"><h2 class="title topictitle2" id="ariaid-title2">High Frequency Data</h2><div class="body"><p class="p"><em class="ph i">Since API level 2.3.0</em></p><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html" target="_blank">Toybox.Sensor</a> module  contains the ability to fetch samples of accelerometer data for a defined period of time with a certain frequency. This feature enables developers to implement their own custom motion detection algorithms within a Connect IQ application.</p><p class="p">Accelerometer data can be obtained by registering a sensor data listener, which provides sampling parameters as well as a user-defined callback method that will be executed when new data is available. Sensor data requests are managed via the following <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html" target="_blank">Toybox.Sensor</a> module methods and classes:</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry" id="high-frequency-data__entry__1">Class or Function</th><th class="entry" id="high-frequency-data__entry__2">Purpose</th><th class="entry" id="high-frequency-data__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/SensorData.html" target="_blank">Sensor.SensorData</a></td><td class="entry" headers="high-frequency-data__entry__2">Wrapper for high frequency sensor data</td><td class="entry" headers="high-frequency-data__entry__3">2.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/AccelerometerData.html" target="_blank">Sensor.AccelerometerData</a></td><td class="entry" headers="high-frequency-data__entry__2">Wrapper for accelerometer information</td><td class="entry" headers="high-frequency-data__entry__3">2.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/GyroscopeData.html" target="_blank">Sensor.GyroscopeData</a></td><td class="entry" headers="high-frequency-data__entry__2">Wrapper for gyroscope information</td><td class="entry" headers="high-frequency-data__entry__3">3.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/MagnetometerData.html" target="_blank">Sensor.MagnetometerData</a></td><td class="entry" headers="high-frequency-data__entry__2">Wrapper for magnetometer information</td><td class="entry" headers="high-frequency-data__entry__3">3.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#registerSensorDataListener-instance_function" target="_blank">Sensor.registerSensorDataListener()</a></td><td class="entry" headers="high-frequency-data__entry__2">Register a callback to fetch data from various sensors</td><td class="entry" headers="high-frequency-data__entry__3">2.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#unregisterSensorDataListener-instance_function" target="_blank">Sensor.unregisterSensorDataListener()</a></td><td class="entry" headers="high-frequency-data__entry__2">Deregister a previously registered data request</td><td class="entry" headers="high-frequency-data__entry__3">2.3.0</td></tr><tr class="row"><td class="entry" headers="high-frequency-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#getMaxSampleRate-instance_function" target="_blank">Sensor.getMaxSampleRate()</a></td><td class="entry" headers="high-frequency-data__entry__2">Get the maximum sample rate supported by the system</td><td class="entry" headers="high-frequency-data__entry__3">2.3.0</td></tr></tbody></table><p class="p">Calling <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#registerSensorDataListener-instance_function" target="_blank">Sensor.registerSensorDataListener()</a> will enable your application to receive accelerometer data via the callback that you provide. The type and amount of data provided is configured via the options dictionary parameter, which supports the following fields:</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="high-frequency-data__entry__25">Option</th><th class="entry align-left" id="high-frequency-data__entry__26">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:period</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">A <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Lang/Number.html" target="_blank">Lang.Number</a> representing the period of time to request samples in seconds. Maximum is 4 seconds.</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:sampleRate</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">A <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Lang/Number.html" target="_blank">Lang.Number</a> representing the samples per second in Hz. Use <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#getMaxSampleRate-instance_function" target="_blank">Sensor.getMaxSampleRate()</a> to determine what the system can support.</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:accelerometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">Options for the accelerometer (see below)</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:heartBeatIntervals</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">Options for beat to beat intervals (see below)</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:gyroscope</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">Options for beat to beat intervals (see below)</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__25"><code class="ph codeph">:magnetometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__26">Options for beat to beat intervals (see below)</td></tr></tbody></table><p class="p">The <code class="ph codeph">:accelerometer</code>, <code class="ph codeph">:heartBeatIntervals</code>, <code class="ph codeph">:gyroscope</code>, and <code class="ph codeph">:magnetometer</code> options allow the following:</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="high-frequency-data__entry__39">Option</th><th class="entry align-left" id="high-frequency-data__entry__40">Applicable To</th><th class="entry align-left" id="high-frequency-data__entry__41">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__39"><code class="ph codeph">:enabled</code></td><td class="entry align-left" headers="high-frequency-data__entry__40"><code class="ph codeph">:accelerometer</code>, <code class="ph codeph">:heartBeatIntervals</code>, <code class="ph codeph">:gyroscope</code>, <code class="ph codeph">:magnetometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__41">Set to <code class="ph codeph">true</code> to enable the sensor</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__39"><code class="ph codeph">:sampleRate</code></td><td class="entry align-left" headers="high-frequency-data__entry__40"><code class="ph codeph">:accelerometer</code>, <code class="ph codeph">:gyroscope</code>, <code class="ph codeph">:magnetometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__41">A <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Lang/Number.html" target="_blank">Lang.Number</a> representing the samples per second in Hz. Use <code class="ph codeph">getMaxSampleRate()</code> to determine what the system can support.</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__39"><code class="ph codeph">:includePower</code></td><td class="entry align-left" headers="high-frequency-data__entry__40"><code class="ph codeph">:accelerometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__41">Requests that the power array be computed. Default false</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__39"><code class="ph codeph">:includePitch</code></td><td class="entry align-left" headers="high-frequency-data__entry__40"><code class="ph codeph">:accelerometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__41">Requests that pitch array be computed. Default false</td></tr><tr class="row"><td class="entry align-left" headers="high-frequency-data__entry__39"><code class="ph codeph">:includeRoll</code></td><td class="entry align-left" headers="high-frequency-data__entry__40"><code class="ph codeph">:accelerometer</code></td><td class="entry align-left" headers="high-frequency-data__entry__41">Requests that roll array be computed. Default false</td></tr></tbody></table><p class="p">Additionally, you must provide a callback method that accepts a single parameter, which is invoked by the system when new data is available. This method is passed a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor/SensorData.html" target="_blank">Sensor.SensorData</a> object populated with the requested sensor data. Note that only a single sensor data request can be active at any given time, so if you wish to submit a request while an existing one is active, you must first call <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#unregisterSensorDataListener-instance_function" target="_blank">Sensor.unregisterSensorDataListener()</a>. After <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#registerSensorDataListener-instance_function" target="_blank">Sensor.registerSensorDataListener()</a> is called, the callback that you provided will be invoked whenever a new set of samples are available. For example, if you request four seconds worth of data at 25Hz, the callback will be invoked every 100 samples taken.</p><p class="p">A simplified usage example can be found below:</p><pre class="pre codeblock typescript"><code>
using Toybox.Sensor;

class MyAccelHistoryClass
{
    private var _samplesX = null;
    private var _samplesY = null;
    private var _samplesZ = null;

    // Initializes the view and registers for accelerometer data
    public function enableAccel() as Void {
        var maxSampleRate = Sensor.getMaxSampleRate();

         // initialize accelerometer to request the maximum amount of data possible
        var options = {:period =&gt; 4000, :sampleRate =&gt; maxSampleRate, :enableAccelerometer =&gt; true};
        try {
            Sensor.registerSensorDataListener(method(:accelHistoryCallback), options);
        }
        catch(e) {
            System.println(e.getErrorMessage());
        }
    }

    // Prints acclerometer data that is recevied from the system
    public function accelHistoryCallback(sensorData as SensorData) as Void {
        _samplesX = sensorData.accelerometerData.x;
        _samplesY = sensorData.accelerometerData.y;
        _samplesZ = sensorData.accelerometerData.z;

        System.println("Raw samples, X axis: " + _samplesX);
        System.println("Raw samples, Y axis: " + _samplesY);
        System.println("Raw samples, Z axis: " + _samplesZ);
    }

    public function disableAccel() as Void {
        Sensor.unregisterSensorDataListener();
    }
}
</code></pre><p class="p">For more, see the <code class="ph codeph">PitchCounter</code> sample app distributed with the SDK.</p></div><article class="topic nested2" aria-labelledby="ariaid-title3" id="filtering-accelerometer-data"><h3 class="title topictitle3" id="ariaid-title3">Filtering Accelerometer Data</h3><div class="body"><p class="p">When processing accelerometer data, you may wish to apply filters to the raw sensor input that your application receives. IIR and FIR filter objects are provided to aid the developer in sample filtering. The following new objects have been added to the Math module:</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="filtering-accelerometer-data__entry__1">Class</th><th class="entry align-left" id="filtering-accelerometer-data__entry__2">Purpose</th><th class="entry align-left" id="filtering-accelerometer-data__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Math/FirFilter.html" target="_blank">Math.FirFilter</a></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__2">Create a FIR filter that can be applied to a sample array</td><td class="entry align-left" headers="filtering-accelerometer-data__entry__3">2.3.0</td></tr><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Math/IirFilter.html" target="_blank">Math.IirFilter</a></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__2">Create a IIR filter that can be applied to a sample array</td><td class="entry align-left" headers="filtering-accelerometer-data__entry__3">2.3.0</td></tr></tbody></table><p class="p">Each filter class requires coefficients to be provided, which is done via the dictionary parameter. The options supported by each filter class are as follows:</p><p class="p"><strong class="ph b">FIR Filter</strong></p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="filtering-accelerometer-data__entry__10">Option</th><th class="entry align-left" id="filtering-accelerometer-data__entry__11">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__10"><code class="ph codeph">:coefficients</code></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__11">An array of float values that specify the filter coefficients. This can also be a resource ID referring to an embedded JSON resource that defines the array of values.</td></tr><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__10"><code class="ph codeph">:gain</code></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__11">A float value that specifies a multiplier to be applied to the coefficients.</td></tr></tbody></table><p class="p"><strong class="ph b">IIR Filter</strong></p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="filtering-accelerometer-data__entry__16">Option</th><th class="entry align-left" id="filtering-accelerometer-data__entry__17">Description</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__16"><code class="ph codeph">:coefficientList1</code></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__17">An array of float values that specify the filter coefficients. This can also be a resource ID referring to an embedded JSON resource that defines the array of values.</td></tr><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__16"><code class="ph codeph">:coefficientList2</code></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__17">An array of float values that specify the filter coefficients. This can also be a resource ID referring to an embedded JSON resource that defines the array of values.</td></tr><tr class="row"><td class="entry align-left" headers="filtering-accelerometer-data__entry__16"><code class="ph codeph">:gain</code></td><td class="entry align-left" headers="filtering-accelerometer-data__entry__17">A float value that specifies a multiplier to be applied to the coefficients.</td></tr></tbody></table><p class="p">Once the filter object has been constructed, the apply function can be called, passing in an array of samples, and an array containing the filtered results will be returned.</p><p class="p">A simplified usage example can be found below (for a more detailed sample see the <code class="ph codeph">PitchCounter</code> sample app distributed with the SDK).</p><pre class="pre codeblock typescript"><code>using Toybox.Sensor;

class MyAccelHistoryClass
{
    hidden var mFilter = null;
    hidden var mSamplesX = null;
    hidden var mSamplesY = null;
    hidden var mSamplesZ = null;

    function initialize() {
        mFilter = new Sensor.FirFilter({:coefficients=&gt;[0.22,0.12,0.55], :gain=&gt;1.2);
    }
    // Initializes the view and registers for accelerometer data
    function enableAccel() {
        var maxSampleRate = Sensor.getMaxSampleRate();

         // initialize accelerometer to request the maximum amount of data possible
        var options = {:period =&gt; 4000, :sampleRate =&gt; maxSampleRate, :enableAccelerometer =&gt; true};
        try {
            Sensor.registerSensorDataListener(method(:accelHistoryCallback), options);
        }
        catch(e) {
            System.println(e.getErrorMessage());
        }
    }

    // Prints acclerometer data that is recevied from the system
    function accelHistoryCallback(sensorData) {
        mSamplesX = mFilter.apply(sensorData.accelerometerData.x);
        mSamplesY = sensorData.accelerometerData.y;
        mSamplesZ = sensorData.accelerometerData.z;

        Toybox.System.println("Filtered samples, X axis: " + mSamplesX);
        Toybox.System.println("Raw samples, Y axis: " + mSamplesY);
        Toybox.System.println("Raw samples, Z axis: " + mSamplesZ);
    }

    function disableAccel() {
        Sensor.unregisterSensorDataListener();
    }
}</code></pre></div></article><article class="topic nested2" aria-labelledby="ariaid-title4" id="logging-accelerometer-data"><h3 class="title topictitle3" id="ariaid-title4">Logging Accelerometer Data</h3><div class="body"><p class="p">Accelerometer data can also be logged by the device, and can be played back in the simulator for testing applications that use the Accelerometer Data feature. Logging accelerometer data is done by passing a <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/SensorLogging/SensorLogger.html" target="_blank">SensorLogging.SensorLogger</a> object to a FIT recording session.</p><p class="p">The <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/SensorLogging/SensorLogger.html" target="_blank">SensorLogging.SensorLogger</a> object with the same options provided to the <a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Sensor.html#registerSensorDataListener-instance_function" target="_blank">Sensor.registerSensorDataListener()</a> method. However, the logger will always record at a standard rate for consumption by the simulator.</p><p class="p">A simplified usage example can be found below (for a more detailed sample see the <code class="ph codeph">samples/PitchCounter</code> sample app distributed with the SDK).</p><pre class="pre codeblock java"><code>import Toybox.SensorLogging;

class LoggingController {
    private var _logger as SensorLogger;
    private var _session as Session;

    public function initialize() {
        _logger = new SensorLogging.SensorLogger({:enableAccelerometer =&gt; true});
        _session = Fit.createSession({:name=&gt;"mySession", :sport=&gt;Fit.SPORT_GENERIC, :sensorLogger =&gt; mLogger});
    }

    public function startLogging() {
        _session.start();
    }

    public function stopLogging() {
        _session.stop();
    }

    public function saveLogging() {
        _session.save();
    }
}
</code></pre></div></article></article><article class="topic nested1" aria-labelledby="ariaid-title5" id="weather"><h2 class="title topictitle2" id="ariaid-title5">Weather</h2><div class="body"><p class="p"><em class="ph i">Since API level 3.2.0</em></p><p class="p">Many Garmin devices have access to current weather conditions that are updated every 15 minutes. This information requires that the device has access to a data connection, primarily via a paired smartphone. Weather information is not available in all areas of the world.</p><p class="p">Connect IQ provides the following ways to access this information:</p><table class="table"><caption></caption><colgroup><col><col><col></colgroup><thead class="thead"><tr class="row"><th class="entry align-left" id="weather__entry__1">Function</th><th class="entry align-left" id="weather__entry__2">Purpose</th><th class="entry align-left" id="weather__entry__3">API Level</th></tr></thead><tbody class="tbody"><tr class="row"><td class="entry align-left" headers="weather__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Weather.html#getCurrentConditions-instance_function" target="_blank">Weather.getCurrentConditions()</a></td><td class="entry align-left" headers="weather__entry__2">Get the most recently cached weather conditions</td><td class="entry align-left" headers="weather__entry__3">3.2.0</td></tr><tr class="row"><td class="entry align-left" headers="weather__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Weather.html#getDailyForecast-instance_function" target="_blank">Weather.getDailyForecast()</a></td><td class="entry align-left" headers="weather__entry__2">Get the daily forecast</td><td class="entry align-left" headers="weather__entry__3">3.2.0</td></tr><tr class="row"><td class="entry align-left" headers="weather__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Weather.html#getHourlyForecast-instance_function" target="_blank">Weather.getHourlyForecast()</a></td><td class="entry align-left" headers="weather__entry__2">Get the hourly forecast</td><td class="entry align-left" headers="weather__entry__3">3.2.0</td></tr><tr class="row"><td class="entry align-left" headers="weather__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Weather.html#getSunrise-instance_function" target="_blank">Weather.getSunrise()</a></td><td class="entry align-left" headers="weather__entry__2">Get the sunrise for a given location</td><td class="entry align-left" headers="weather__entry__3">3.3.0</td></tr><tr class="row"><td class="entry align-left" headers="weather__entry__1"><a class="xref" href="https://developer.garmin.com/connect-iq/api-docs/Toybox/Weather.html#getSunset-instance_function" target="_blank">Weather.getSunset()</a></td><td class="entry align-left" headers="weather__entry__2">Get the sunset for a given location</td><td class="entry align-left" headers="weather__entry__3">3.3.0</td></tr></tbody></table><p class="p">Be aware that the user is allowed to choose a specific location for weather updates besides their current location. You cannot assume that the weather conditions returned are the weather conditions for your current location.</p></div></article><div class="fn"><a name="fntarg_1" href="#fnsrc_1"><sup>1</sup></a>  Not to be confused with the Pedropascals used as a measure of "cool". This author measures 20 picoPedropascals.</div></article></main><footer role="contentinfo"><div>
<p class="disclaimer">
Connect IQ System None API 8.2.3 Documentation. Copyright 2025 Garmin International. All Rights Reserved.
</p>
</div></footer></body></html>